{"version":3,"sources":["../../src/kite/emitter.js"],"names":["Emitter","bound","method","Error","boundMethod","value","bind","lazyBound","args"],"mappings":";;;;;;AAAA;;AACA;;;;;;AAEe,MAAMA,OAAN,8BAAmC;AAChDC,QAAMC,MAAN,EAAc;AACZ,QAAI,KAAKA,MAAL,KAAgB,IAApB,EAA0B;AACxB,YAAM,IAAIC,KAAJ,CAAW,0BAAyBD,MAAO,EAA3C,CAAN;AACD;AACD,UAAME,cAAe,YAAWF,MAAO,EAAvC;AACAE,mBAAe,IAAf,IACE,sBAAO,IAAP,EAAaA,WAAb,EAA0B,EAAEC,OAAO,KAAKH,MAAL,EAAaI,IAAb,CAAkB,IAAlB,CAAT,EAA1B,CADF;AAEA,WAAO,KAAKF,WAAL,CAAP;AACD;;AAEDG,YAAUL,MAAV,EAAkB,GAAGM,IAArB,EAA2B;AACzB,QAAI,OAAO,KAAKN,MAAL,CAAP,KAAwB,UAA5B,EAAwC;AACtC,aAAO,KAAKA,MAAL,EAAaI,IAAb,CAAkB,IAAlB,EAAwB,GAAGE,IAA3B,CAAP;AACD;;AAED,UAAM,IAAIL,KAAJ,CAAW,8BAA6BD,MAAO,EAA/C,CAAN;AACD;AAjB+C;kBAA7BF,O","file":"emitter.js","sourcesContent":["import { EventEmitter } from 'events'\nimport define from './define'\n\nexport default class Emitter extends EventEmitter {\n  bound(method) {\n    if (this[method] == null) {\n      throw new Error(`Could not bind method: ${method}`)\n    }\n    const boundMethod = `__bound__${method}`\n    boundMethod in this ||\n      define(this, boundMethod, { value: this[method].bind(this) })\n    return this[boundMethod]\n  }\n\n  lazyBound(method, ...args) {\n    if (typeof this[method] === 'function') {\n      return this[method].bind(this, ...args)\n    }\n\n    throw new Error(`lazyBound: unknown method! ${method}`)\n  }\n}\n"]}