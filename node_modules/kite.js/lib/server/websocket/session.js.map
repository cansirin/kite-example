{"version":3,"sources":["../../../src/server/websocket/session.js"],"names":["Session","constructor","connection","on","message","emit","getId","_socket","remoteAddress","remotePort","send","close"],"mappings":";;;;;;AAAA;;;;;;AAEe,MAAMA,OAAN,2BAA8B;AAC3CC,cAAYC,UAAZ,EAAwB;AACtB;;AAEA,SAAKA,UAAL,GAAkBA,UAAlB;;AAEA,SAAKA,UAAL,CAAgBC,EAAhB,CAAmB,SAAnB,EAA8BC,WAAW;AACvC,aAAO,KAAKC,IAAL,CAAU,SAAV,EAAqBD,OAArB,CAAP;AACD,KAFD;;AAIA,SAAKF,UAAL,CAAgBC,EAAhB,CAAmB,OAAnB,EAA4B,MAAM;AAChC,aAAO,KAAKE,IAAL,CAAU,OAAV,CAAP;AACD,KAFD;AAGD;;AAEDC,UAAQ;AACN,WAAQ,GAAE,KAAKJ,UAAL,CAAgBK,OAAhB,CAAwBC,aAAc,IAAG,KAAKN,UAAL,CAAgBK,OAAhB,CAChDE,UAAW,EADd;AAED;;AAEDC,OAAKN,OAAL,EAAc;AACZ,WAAO,KAAKF,UAAL,CAAgBQ,IAAhB,CAAqBN,OAArB,CAAP;AACD;;AAEDO,UAAQ;AACN,WAAO,KAAKT,UAAL,CAAgBS,KAAhB,EAAP;AACD;AA1B0C;kBAAxBX,O","file":"session.js","sourcesContent":["import Emitter from '../../kite/emitter'\n\nexport default class Session extends Emitter {\n  constructor(connection) {\n    super()\n\n    this.connection = connection\n\n    this.connection.on('message', message => {\n      return this.emit('message', message)\n    })\n\n    this.connection.on('close', () => {\n      return this.emit('close')\n    })\n  }\n\n  getId() {\n    return `${this.connection._socket.remoteAddress}:${this.connection._socket\n      .remotePort}`\n  }\n\n  send(message) {\n    return this.connection.send(message)\n  }\n\n  close() {\n    return this.connection.close()\n  }\n}\n"]}