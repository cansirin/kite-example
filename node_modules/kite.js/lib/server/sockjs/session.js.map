{"version":3,"sources":["../../../src/server/sockjs/session.js"],"names":["Session","constructor","connection","on","message","emit","getId","remoteAddress","remotePort","send","write","close"],"mappings":";;;;;;AAAA;;;;;;AAEe,MAAMA,OAAN,2BAA8B;AAC3CC,cAAYC,UAAZ,EAAwB;AACtB;;AAEA,SAAKA,UAAL,GAAkBA,UAAlB;;AAEA,SAAKA,UAAL,CAAgBC,EAAhB,CAAmB,MAAnB,EAA2BC,WAAW;AACpC,aAAO,KAAKC,IAAL,CAAU,SAAV,EAAqBD,OAArB,CAAP;AACD,KAFD;;AAIA,SAAKF,UAAL,CAAgBC,EAAhB,CAAmB,OAAnB,EAA4B,MAAM;AAChC,aAAO,KAAKE,IAAL,CAAU,OAAV,CAAP;AACD,KAFD;AAGD;;AAEDC,UAAQ;AACN,WAAQ,GAAE,KAAKJ,UAAL,CAAgBK,aAAc,IAAG,KAAKL,UAAL,CAAgBM,UAAW,EAAtE;AACD;;AAEDC,OAAKL,OAAL,EAAc;AACZ,WAAO,KAAKF,UAAL,CAAgBQ,KAAhB,CAAsBN,OAAtB,CAAP;AACD;;AAEDO,UAAQ;AACN,WAAO,KAAKT,UAAL,CAAgBS,KAAhB,EAAP;AACD;AAzB0C;kBAAxBX,O","file":"session.js","sourcesContent":["import Emitter from '../../kite/emitter'\n\nexport default class Session extends Emitter {\n  constructor(connection) {\n    super()\n\n    this.connection = connection\n\n    this.connection.on('data', message => {\n      return this.emit('message', message)\n    })\n\n    this.connection.on('close', () => {\n      return this.emit('close')\n    })\n  }\n\n  getId() {\n    return `${this.connection.remoteAddress}:${this.connection.remotePort}`\n  }\n\n  send(message) {\n    return this.connection.write(message)\n  }\n\n  close() {\n    return this.connection.close()\n  }\n}\n"]}